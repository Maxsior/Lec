# Lec

## –ù–µ–º–Ω–æ–≥–æ –∏—Å—Ç–æ—Ä–∏–∏

–Ø–∑—ã–∫ **Lec** (_[Ààl…õk]_, _–ª—ç–∫_) —è–≤–ª—è–µ—Ç—Å—è –≤—ã–ø—É—Å–∫–Ω–æ–π —Ä–∞–±–æ—Ç–æ–π –±–∞–∫–∞–ª–∞–≤—Ä–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞ [–ü–ì–ù–ò–£](https://psu.ru) –º–µ—Ö–∞–Ω–∏–∫–æ-–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞ [–ö—É–¥—Ä—è–≤—Ü–µ–≤–∞ –ú–∞–∫—Å–∏–º–∞](https://github.com/Maxsior). –¶–µ–ª—å—é —Ä–∞–±–æ—Ç—ã –±—ã–ª–æ —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø–æ—è—Å–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫ –ª–µ–∫—Ü–∏–∏ –≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.

## –ü—Ä–∏—Å—Ç—É–ø–∞—è –∫ —Ä–∞–±–æ—Ç–µ

### –û–±–∑–æ—Ä —è–∑—ã–∫–∞

**Lec** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —è–∑—ã–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –û–Ω –Ω–µ —Å—Ç–∞–≤–∏—Ç –ø–µ—Ä–µ–¥ —Å–æ–±–æ–π –∑–∞–¥–∞—á—É –ø–µ—Ä–µ–¥–∞—á–∏ —Ç–æ—á–Ω—ã—Ö —Ñ–æ—Ä–º –∏–ª–∏ —Ü–≤–µ—Ç–∞, –Ω–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–π —Å–æ—Å—Ç–∞–≤–ª—è—é—â–µ–π —Ä–∏—Å—É–Ω–∫–æ–≤.
–°–∞–º –ø–æ —Å–µ–±–µ **Lec** –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —è–∑—ã–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –≤ –Ω—ë–º –≤—ã –Ω–µ –Ω–∞–π–¥—ë—Ç–µ —Ü–∏–∫–ª–æ–≤, –≤–µ—Ç–≤–ª–µ–Ω–∏–π –∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–≤—ã—á–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞–º –≤–µ—â–µ–π, –æ–¥–Ω–∞–∫–æ **Lec** [–º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω](#—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-—è–∑—ã–∫–∞), —á—Ç–æ –ø—Ä–∏–¥–∞—Å—Ç –µ–º—É —Å—É–ø–µ—Ä-—Å–∏–ª—ã üòÄ.

–í –æ—Å–Ω–æ–≤–µ **Lec** –ª–µ–∂–∞—Ç –º–µ—Ö–∞–Ω–∏–∑–º—ã –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏.

#### –§–∏–ª–æ—Å–æ—Ñ–∏—è Lec

**Lec** –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –±—ã—Å—Ç—Ä–æ–µ —Ä—É—á–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ—è—Å–Ω—è—é—â–µ–π –≥—Ä–∞—Ñ–∏–∫–∏, –æ—Ç—Å—é–¥–∞ –≤—ã—Ç–µ–∫–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã, –≤–æ–ø–ª–æ—â—ë–Ω–Ω—ã–µ –≤ —è–∑—ã–∫–µ:
- –ª–µ–≥–∫–æ —á–∏—Ç–∞–µ—Ç—Å—è
- –ø—Ä–æ—Å—Ç–æ –ø–∏—à–µ—Ç—Å—è
- –±—ã—Å—Ç—Ä–æ –∏–∑—É—á–∞–µ—Ç—Å—è (1 –ª–µ–∫—Ü–∏—è = ~90–º–∏–Ω)
- –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π
- –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π
- –ø—Ä–æ—Å—Ç–∞—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞
- –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π
- —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π

### –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

–í **Lec** —É–º—ã—à–ª–µ–Ω–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã –æ–± —ç—Ç–æ–º –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –∑–∞–¥—É–º—ã–≤–∞—Ç—å—Å—è –≤–æ –≤—Ä–µ–º—è –æ–ø–∏—Å–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö —Å—Ü–µ–Ω.
–° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã.

#### –û–±—ä–µ–∫—Ç

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏–∑ —Ç–æ–≥–æ, —á—Ç–æ –º—ã –ø–∏—à–µ–º –≤ **Lec** - —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã, –¥–∞–∂–µ —Ç–æ, —á—Ç–æ —Ö–æ—á–µ—Ç—Å—è –Ω–∞–∑–≤–∞—Ç—å –∞—Ç—Ç—Ä–∏–±—É—Ç–æ–º –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å svg, —ç—Ç–æ –æ–±—ä–µ–∫—Ç: `ellipse`, `rectangle`, –∏ –¥–∞–∂–µ `stroke`, `direction`, `color`.

####  –ß–∏—Å–ª–∞ –∏ —Å—Ç—Ä–æ–∫–∏

–≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∏ –≤–æ—Ç –æ–Ω–∏ –∫–∞–∫ —Ä–∞–∑ —Å–ª—É–∂–∞—Ç –∞—Ç—Ç—Ä–∏–±—É—Ç–∞–º–∏/–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, `stroke "dashed" 2` –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ –æ–±—ä–µ–∫—Ç `stroke` –±—É–¥–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –Ω–µ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é, –∞ —Ç–æ–ª—â–∏–Ω–æ–π 2 –µ–¥–∏–Ω–∏—Ü—ã –∏ –ø—É–Ω–∫—Ç–∏—Ä–Ω—ã–º –Ω–∞—á–µ—Ä—Ç–∞–Ω–∏–µ–º.

–ë–ª–∞–≥–æ–¥–∞—Ä—è —Ç–æ–º—É, —á—Ç–æ **Lec** —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–æ—â–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞, —É–º–µ—é—â–∏–µ —Å–æ–ø–æ—Å—Ç–æ–≤–ª—è—Ç—å —Ç–∏–ø—ã, –º—ã –º–æ–∂–µ–º –º–µ–Ω—å—à–µ –¥—É–º–∞—Ç—å –æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∞—Ç—Ç—Ä–∏–±—É—Ç–æ–≤ –∏ –ø–∏—Å–∞—Ç—å –∏—Ö –≤ –ø–æ—Ä—è–¥–∫–µ, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –≤—ã–∑–æ–≤–µ—Ç –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π —É –æ–±—ä–µ–∫—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä `stroke "dashed" 2  =  stroke 2 "dashed"`, –Ω–æ `direction a b  !=  direction b a`.

–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –µ—Å–ª–∏ –æ–∫—É–Ω—É—Ç—å—Å—è –≥–ª—É–±–∂–µ, —Ç–æ –∞—Ç—Ç—Ä–∏–±—É—Ç–∞–º–∏ –æ–±—ä–µ–∫—Ç–∞ –±—É–¥—É—Ç –Ω–∞ —Å–æ–≤—Å–µ–º —Å—Ç—Ä–æ–∫–∏ –∏ —á–∏—Å–ª–∞, –∞ –∏—Ö –Ω–∞–±–æ—Ä - –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –ø–æ—ç—Ç–æ–º—É —É –Ω–∞—Å –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è –ø–µ—Ä–µ–¥–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –æ–±–≤–æ–¥–∫–∏ –∏–ª–∏ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ü–≤–µ—Ç.
```
fill "unbelievable_color" # error! Can't match value "unbelievable_color"
stroke "flowers" # error! Can't match value "flowers"
```

#### –°—Å—ã–ª–∫–∏

–≠—Ç–æ —Ç–∏–ø–∞ —è–≤–Ω–æ –Ω–µ—Ç –≤ —è–∑—ã–∫–µ, –Ω–æ —Å—Ç–æ–∏—Ç –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ö–æ—Ç—å –∏ –º–æ–≥—É—Ç —Ä–∞—Å—Ü–µ–Ω–∏–≤–∞—Ç—å—Å—è, –∫–∞–∫ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, —è–≤–ª—è—é—Ç—Å—è –≤—Å—ë –∂–µ –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π, —Å–∏–Ω–æ–Ω–∏–º–æ–º –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –æ–±—ä–µ–∫—Ç—É, –ø—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –æ–ø–∏—Å–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç, –ø–æ—ç—Ç–æ–º—É —Ö—Ä–∞–Ω—è—Ç –≤ —Å–µ–±–µ —Å—Å—ã–ª–∫—É.


### –ü—Ä–∏–º–µ—Ä –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ—Å—Ç–æ–π —Å—Ü–µ–Ω—ã

```Lec
# –û–±—ä—è–≤–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é "e", –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —ç–ª–ª–∏–ø—Å —Å –æ–±–≤–æ–¥–∫–æ–π
e:
    # –û–±—ä–µ–∫—Ç —ç–ª–ª–∏–ø—Å —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é
    ellipse
        # –ø–µ—Ä–µ–¥–∞–≤ –≤–Ω—É—Ç—Ä—å —ç–ª–ª–∏–ø—Å–∞ –æ–±—ä–µ–∫—Ç stroke, –º—ã –≤–ª–∏—è–µ–º –Ω–∞ –µ–≥–æ –æ–±–≤–æ–¥–∫—É
        stroke 1

r:
    rectangle
        text "centered text"
        # —Ü–≤–µ—Ç –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ hex-—Ñ–æ—Ä–º–∞—Ç–µ, –Ω–æ –≤ –æ–±—ã—á–Ω–æ–π –∂–∏–∑–Ω–∏ –º—ã —á–∞—â–µ –æ–ø–µ—Ä–∏—Ä—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏)
        fill "blue"

arrow
    direction r e
    text "arrow"
```

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã

### –ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ —è–∑—ã–∫–∞

–î–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤ –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω [ANTRL 4](https://www.antlr.org/), –ø–æ—ç—Ç–æ–º—É –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–º —Å –Ω–∏–º —Ñ–æ—Ä–º–∞—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π –ø–æ-–±–æ–ª—å—à–æ–º—É —Å—á—ë—Ç—É –ø—Ä–µ–¥–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–µ–±–æ–π –Ω–µ–º–Ω–æ–≥–æ –≤–∏–¥–æ–∏–∑–º–µ–Ω—ë–Ω–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é –ë—ç–∫—É—Å–∞ ‚Äî –ù–∞—É—Ä–∞.

- [–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞](https://github.com/Maxsior/Lec/blob/main/interpreter/LecLexer.g4)
- [–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞](https://github.com/Maxsior/Lec/blob/main/interpreter/LecParser.g4)

–ß—Ç–æ–±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π –ª–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∏ –ø–∞—Ä—Å–µ—Ä –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ: 
1. –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞, –ø–µ—Ä–µ–ø–∏—Å–∞–≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–ª–∞—Å—Å–∞ `LecLexerBase.py` –∏–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ `INDENT`, `DEDENT` –∏ `LINE_BREAK`.
2. –ó–∞–º–µ–Ω–∏—Ç—å –∫–æ–¥–æ–≤—ã–µ –≤—Å—Ç–∞–≤–∫–∏ –≤ —Ñ–∞–π–ª–µ `LecLexer.g4` –¥–ª—è –ø—Ä–∞–≤–∏–ª `NEWLINE` –∏ `WS` –Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞.
3. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª `antlr-4.9.2-complete.jar` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `CLASSPATH`.
3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `-Dlanguage` –≤ —Ñ–∞–π–ª–µ `antlr4.bat` (—Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —è–∑—ã–∫–æ–≤ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ antlr 4](https://www.antlr.org/download.html))
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–∞–π–ª `antlr4.bar`

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —è–∑—ã–∫–∞

–û–¥–∏–Ω –∏–∑ –ø—É–Ω–∫—Ç–æ–≤ [—Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ **Lec**](#—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è-lec) - —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å, –ø–æ—ç—Ç–æ–º—É —è–∑—ã–∫ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤–∞—Å –≤ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–ø–∏—Å–∞—Ç—å —Å–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ.
`// TODO`
